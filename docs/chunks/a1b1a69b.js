const e=Symbol("mount"),t=Symbol("mounted"),n=Symbol("update"),l=Symbol("updated"),r=Symbol("unmount"),o={};function i(e,t){e[0]&&(e[1]=e[0](e[1],t))}function u(e,t){for(let n in e)i(e[n],t)}function s(e,t){if(o.ref.hook)return o.ref.hook.use(e,t)[1]}const c=[],a=Symbol("limitNode"),f={innerHTML:1,textContent:1,contenteditable:1},d={style:1},h={id:1,className:1,checked:1,value:1,selected:1};const p=e=>"function"==typeof e;function m(e,t,n,l,r,o){if(n=null==n?null:n,l=null==l?null:l,(t="class"!=t||r?t:"className")in e&&h[t]&&(n=e[t]),l!==n)if("o"!=t[0]||"n"!=t[1]||!p(l)&&!p(n))switch(t){case"key":e.dataset.key=l;break;case"ref":l&&(l.current=e);break;case"style":!function(e,t,n){let l,r=e.style;if("object"==typeof t){l=!0;for(let e in t)e in n||y(r,e,null)}if("object"==typeof n)for(let e in n){let o=n[e];l&&t[e]===o||y(r,e,o)}else r.cssText=n}(e,n||"",l||"");break;default:!r&&"list"!=t&&t in e?e[t]=null==l?"":l:null==l?e.removeAttribute(t):e.setAttribute(t,"object"==typeof l?JSON.stringify(l):l)}else!function(e,t,n,l){t=t.slice("-"==t[2]?3:2),l.handleEvent||(l.handleEvent=t=>l[t.type].call(e,t)),n?(l[t]||e.addEventListener(t,l),l[t]=n):l[t]&&(e.removeEventListener(t,l),delete l[t])}(e,t,l,o)}function y(e,t,n){let l="setProperty";null==n&&(l="removeProperty",n=null),~t.indexOf("-")?e[l](t,n):e[t]=n}let b=N(null,{children:""}),v=N(null,{children:c});const g=Symbol("mapChildren"),k=Symbol("keyes");function N(e,t,...n){return{children:n,...t,nodeType:e||null}}function w(e){let t=typeof e;return null==e||"string"==t||"number"==t||"function"==t||"boolean"==t}const _=e=>e instanceof Node,C=e=>e[a]=e.appendChild(new Comment);function S(e,t,n,l){let r=e[a];if(!r){let{childNodes:t}=e,n=t.length;for(let e=0;e<n;e++){let e=t[n];if(e instanceof Comment){r=e;break}}}r||(r=C(e)),e[l?"appendChild":"insertBefore"](t,n||r)}function j(e,t,n="vnode"){return null!=e&&"object"==typeof e&&"host"!=e.nodeType&&(e=N("host",{children:e})),function e(t,n,l,r){let{vnode:o,handlers:i={}}=n&&n[t]||{};if(o==l&&null!=o)return n;var u;l=w(l)?function(e){let t=typeof e;return null==e||"boolean"==t||"function"==t}(u=l)?b:N(null,{children:""+u}):l;let{nodeType:s,shadowDom:c,children:h,is:p,...y}=o||v,{nodeType:g,shadowDom:j,children:x,is:A,...E}=l;if(r=r||"svg"==g,"host"!=g&&(!function(e,t){let n=e&&_(e),l=t&&_(t);if(l&&n)return l==l;if(e){e.localName||(e.localName=e.nodeName.toLowerCase());let n=e.localName;return("#text"==n?null:n)==t}}(n,g)||p!=A)){let e=function(e,t,n){let l,r=document;if(null!=e){if(_(e))return e;l=t?r.createElementNS("http://www.w3.org/2000/svg",e):r.createElement(e,n?{is:n}:null)}else l=r.createTextNode("");return l}(g,r,A),t=n&&n.parentNode;t&&t.replaceChild(e,n),n=e,i={}}if(d[g]&&(g=null,x=x.join("")),null==g)n.textContent!=x&&(n.textContent=x);else{if(c!=j){let{shadowRoot:e}=n,t=j&&!e?"open":!j&&e?"closed":0;t&&n.attachShadow({mode:t})}(function(e,t,n,l,r){t=t||{};for(let o in t)o in n||m(e,o,t[o],null,l,r);let o;for(let i in n)m(e,i,t[i],n[i],l,r),o=o||f[i];return o})(n,y,E,r,i)||h==x||function(t,n,l,r,o){let i=l.length,{childNodes:u}=n,s={},c=u.length,f=0,d=n[a];for(;f<c;f++){let e=u[f];if(e==d||e instanceof Comment){d=e;break}if(r){let t=e.dataset.key;if(r.includes(t)){s[t]=e;continue}}(r||f>=i)&&(f--,c--,e.remove())}d||(d=C(n));for(let c=0;c<i;c++){let i=l[c],a=c==f?null:u[c],h=r?i.key:c,p=r?s[h]:a;r&&p&&p!=a&&n.insertBefore(p,a);let m=e(t,p,i,o);p||(S(n,m,c==f?d:u[c]),f++)}}(t,j?n.shadowRoot:n,x,E[k],r)}return n[t]={vnode:l,handlers:i},n}(n,t,e=function e(t){if(w(t))return t;if(!t[g]){let{children:n,keyes:l}=function t(n,l={children:[]},r=0){if((e=>Array.isArray(e))(n)){let e=n.length;for(let o=0;o<e;o++)t(n[o],l,r+1)}else{if(null==n&&!r)return l;let o=e(n);if(null!=o&&"object"==typeof o){if(p(o.nodeType)){let{nodeType:e,...n}=o;return t(e(n),l,r+1)}let{key:e}=o;null!=e&&(e+="",l.keyes=l.keyes||[],l.keyes.includes(e)||l.keyes.push(e))}l.children.push(o)}return l}(t.children);t.children=n.length?n:c,l&&l.length==n.length&&(t[k]=l),t[g]=!0}return t}(e)),t}class x extends HTMLElement{constructor(){super(),this._create()}async _update(){if(!this._prevent){let e;this._prevent=!0,this.updated=new Promise(t=>e=t),await this.mounted,this._prevent=!1,this.update(),e()}}static get observedAttributes(){let{props:e={}}=this,t=[],n=[];for(let l in e)L(this.prototype,l,e[l],n,t);return this.prototype._create=function(){this._attrs={},this._props={},t.forEach(e=>e(this)),this.mounted=new Promise(e=>this.mount=e),this.unmounted=new Promise(e=>this.unmount=e),this.create&&this.create(),this._update()},n}attributeChangedCallback(e,t,n){e!==this._ignoreAttr&&t!==n&&(this[this._attrs[e]]=n)}connectedCallback(){this.mount()}disconnectedCallback(){this.unmount()}}const A=[!0,1,"","1","true"],E=[Function,null],T=e=>e.replace(/([A-Z])/g,"-$1").toLowerCase();function L(e,t,n,l,r){if(!(t in e)){let{type:o,reflect:i,event:u,value:s,attr:c=T(t)}="object"==typeof n&&null!=n?n:{type:n},a=!E.includes(o);l.push(c),Object.defineProperty(e,t,{set:function(e){let n=this[t],{error:l,value:r}=function(e,t){if(null==e)return{value:t};try{if(e==Boolean?t=A.includes(t):"string"==typeof t&&(t=e==Number?Number(t):e==Object||e==Array?JSON.parse(t):t),{}.toString.call(t)==`[object ${e.name}]`)return{value:t,error:e==Number&&Number.isNaN(t)}}catch(e){}return{value:t,error:!0}}(o,a&&p(e)?e(n):e);if(l&&null!=r)throw`The value defined for prop '${t}' must be of type '${o.name}'`;n!=r&&(this._props[t]=r,this._update(),this.updated.then(()=>{u&&((e,t,n)=>{e.dispatchEvent(new CustomEvent(t,"object"==typeof n?n:null))})(this,u),i&&(this._ignoreAttr=c,((e,t,n,l)=>{null==l||t==Boolean&&!l?e.removeAttribute(n):e.setAttribute(n,"object"==typeof l?JSON.stringify(l):t==Boolean?"":l)})(this,o,c,this[t]),this._ignoreAttr=null)}))},get(){return this._props[t]}}),r.push(e=>{null!=s&&(e[t]=s),e._attrs[c]=t})}}function O(s){let c=class extends x{async create(){let c=Symbol();this.update=()=>{j(a.load(s,{...this._props}),this,c),a.updated()};let a=function(s,c){let a,f={},d={use:function(t,l){let r,u=o.index++;return f[u]||(f[u]=[null,l],r=1),f[u][0]=t,i(f[u],r?e:n),f[u]},load:function(e,t){o.index=0,o.ref=h;let n=e(t);return o.ref=0,n},updated:function(){let e=a?l:t;a=1,u(f,e)},unmount:function(){u(f,r)}},h={hook:d,host:c,render:s};return d}(()=>this._update(),this);await this.unmounted,a.unmount()}};return c.props=s.props,c}const P=(e,t)=>p(e)?O(e):customElements.define(e,O(t));function B(){return s(0,{current:o.ref.host})}function $(e,o){let i;s((u,s)=>{switch(null==i&&(i=!o||!u[0]||!function(e,t){let n=e.length;if(n!==t.length)return!1;for(let l=0;l<n;l++)if(e[l]!==t[l])return!1;return!0}(o,u[0]),u[0]=o),s){case n:case r:(i||s==r)&&u[1]&&(u[1](),u[1]=0),s==r&&(u[0]=null);break;case t:case l:(i||s==t)&&(u[1]=e())}return u},[])}function J(e){return s(0,{current:e})}function D(e){let t=B();if(e in t.current)return t[e]||(t[e]=[null,n=>t.current[e]=n]),t[e][0]=t.current[e],t[e]}export{D as K,P as M,B as R,$ as Z,N as _,J as q};
//# sourceMappingURL=a1b1a69b.js.map
